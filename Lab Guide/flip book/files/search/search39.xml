Appendix C: R Script for Train :@0.120984:0.057725:0.344731:0.057725:0.344731:0.044612:0.120984:0.044612:0.010737:0.009625:0.009680:0.009235:0.009736:0.009643:0.004265:0.008030:0.004191:0.009884:0.005063:0.004191:0.009921:0.004191:0.008512:0.007844:0.006472:0.004265:0.009643:0.006212:0.004247:0.005434:0.009866:0.006472:0.004191:0.009068:0.006250:0.008660:0.004265:0.009760:0.004191
25 :@0.490744:0.939424:0.513682:0.939424:0.513682:0.926311:0.490744:0.926311:0.009474:0.009272:0.004191
 :@0.120984:0.966790:0.125175:0.966790:0.125175:0.953677:0.120984:0.953677:0.004191
# the following packages need to be installed (see pre-requisites) :@0.120984:0.099332:0.559591:0.099332:0.559591:0.085553:0.120984:0.085553:0.008874:0.004218:0.005034:0.008466:0.007861:0.004218:0.004823:0.008859:0.003659:0.003613:0.008859:0.010930:0.003598:0.008466:0.008904:0.004188:0.008889:0.007635:0.007045:0.007453:0.007695:0.008829:0.007861:0.006410:0.004263:0.008647:0.007861:0.007861:0.009056:0.004218:0.005034:0.008859:0.004233:0.008889:0.007846:0.004218:0.003659:0.008436:0.006410:0.005080:0.007695:0.003598:0.003659:0.007831:0.008904:0.004188:0.004626:0.006410:0.007907:0.007861:0.004218:0.008889:0.005261:0.008080:0.006047:0.005261:0.007846:0.008904:0.008617:0.003659:0.006410:0.003659:0.005019:0.007861:0.006410:0.004687:0.004142
# rJava :@0.120984:0.116436:0.171488:0.116436:0.171488:0.102657:0.120984:0.102657:0.008874:0.004218:0.005261:0.005397:0.007695:0.007241:0.007675:0.004142
# randomForest :@0.120984:0.133397:0.231348:0.133397:0.231348:0.119618:0.120984:0.119618:0.008874:0.004218:0.005261:0.007635:0.008466:0.008904:0.008859:0.013062:0.007438:0.008859:0.005261:0.007846:0.006410:0.005128:0.004142
 :@0.120984:0.150501:0.125126:0.150501:0.125126:0.136722:0.120984:0.136722:0.004142
# load randomForest package :@0.120984:0.167605:0.324525:0.167605:0.324525:0.153826:0.120984:0.153826:0.008874:0.004218:0.003659:0.008859:0.007635:0.008904:0.004188:0.005261:0.007635:0.008466:0.008904:0.008859:0.013062:0.007438:0.008859:0.005261:0.007846:0.006410:0.005080:0.004218:0.008889:0.007635:0.007045:0.007453:0.007695:0.008829:0.008217:0.004142
library(randomForest) :@0.120984:0.184709:0.269243:0.184709:0.269243:0.170930:0.120984:0.170930:0.003659:0.003598:0.008889:0.005261:0.007619:0.005261:0.007241:0.004626:0.005261:0.007635:0.008647:0.008904:0.008859:0.013062:0.007438:0.008859:0.005261:0.007846:0.006410:0.005080:0.004700:0.004142
 :@0.120984:0.201670:0.125126:0.201670:0.125126:0.187891:0.120984:0.187891:0.004142
# the dataset is referenced in the step: sv-convert_booleans_to_numbers :@0.120984:0.218774:0.606558:0.218774:0.606558:0.204995:0.120984:0.204995:0.008874:0.004218:0.005034:0.008466:0.007861:0.004218:0.008904:0.007619:0.005034:0.007695:0.006410:0.008058:0.005034:0.004218:0.003659:0.006410:0.004233:0.005261:0.007846:0.004823:0.007861:0.005261:0.007846:0.008466:0.007045:0.007861:0.008904:0.004188:0.003659:0.008436:0.004218:0.005231:0.008466:0.007861:0.004218:0.006410:0.005080:0.007861:0.008889:0.003205:0.004218:0.006410:0.007502:0.006047:0.007045:0.008859:0.008481:0.007241:0.007907:0.005216:0.005034:0.006274:0.008844:0.008859:0.008859:0.003840:0.007861:0.007695:0.008436:0.006410:0.006470:0.005231:0.008859:0.006333:0.008466:0.008466:0.013092:0.008889:0.007846:0.005261:0.006637:0.004142
# assign the dataframe: train to variable: train.df :@0.120984:0.235878:0.444259:0.235878:0.444259:0.222098:0.120984:0.222098:0.008874:0.004218:0.007695:0.006410:0.006440:0.003659:0.008844:0.008466:0.004218:0.005034:0.008466:0.007861:0.004218:0.008904:0.007619:0.005231:0.007695:0.004792:0.005261:0.007635:0.013092:0.007861:0.003220:0.004218:0.005199:0.005241:0.007675:0.003638:0.008441:0.004233:0.005231:0.008859:0.004233:0.007241:0.007695:0.005261:0.003583:0.007695:0.008829:0.003659:0.007831:0.003220:0.004218:0.005090:0.005261:0.007635:0.003810:0.008491:0.003220:0.008904:0.004807:0.004142
train.df <- as.data.frame(train) :@0.120984:0.252839:0.325129:0.252839:0.325129:0.239060:0.120984:0.239060:0.005039:0.005241:0.007675:0.003638:0.008642:0.003220:0.008904:0.004792:0.004218:0.010304:0.006047:0.004233:0.007695:0.006410:0.003235:0.008904:0.007619:0.005034:0.007695:0.003190:0.004823:0.005261:0.007635:0.013092:0.007861:0.004626:0.005135:0.005241:0.007675:0.003638:0.008441:0.004838:0.004142
 :@0.120984:0.269943:0.125126:0.269943:0.125126:0.256163:0.120984:0.256163:0.004142
# train model with 8 trees takes about 50 seconds on this VM :@0.120984:0.287082:0.533589:0.287082:0.533589:0.273303:0.120984:0.273303:0.008869:0.004233:0.005039:0.005261:0.007635:0.003659:0.008436:0.004231:0.013102:0.008859:0.008904:0.007831:0.003659:0.004188:0.010930:0.003583:0.005231:0.008466:0.004263:0.008063:0.004233:0.005034:0.005261:0.007846:0.007861:0.006410:0.004263:0.005034:0.007695:0.007423:0.008128:0.006410:0.004263:0.007695:0.008829:0.008859:0.008481:0.005049:0.004233:0.008063:0.008063:0.004233:0.006410:0.007907:0.007030:0.008859:0.008481:0.008904:0.006464:0.004233:0.008859:0.008481:0.004218:0.005034:0.008466:0.003659:0.006410:0.004233:0.009464:0.013541:0.004142
# declare variable rf assigned the results :@0.120984:0.304043:0.392656:0.304043:0.392656:0.290264:0.120984:0.290264:0.008874:0.004218:0.008904:0.007831:0.007045:0.003659:0.007635:0.005261:0.007846:0.004218:0.007241:0.007695:0.005261:0.003583:0.007695:0.008829:0.003659:0.007831:0.004218:0.005261:0.004807:0.004218:0.007695:0.006410:0.006440:0.003659:0.008844:0.008466:0.007861:0.008904:0.004188:0.005231:0.008466:0.007861:0.004218:0.005261:0.007846:0.006410:0.008511:0.003659:0.005004:0.006806:0.004142
# ( y) dependent variable = train.df (dataset) reported_as_fraud_historic (column) :@0.120984:0.321147:0.661637:0.321147:0.661637:0.307368:0.120984:0.307368:0.008869:0.004233:0.004626:0.004218:0.007257:0.004626:0.004218:0.008904:0.007831:0.008889:0.007846:0.008466:0.008904:0.007831:0.008466:0.005034:0.004218:0.007241:0.007695:0.005261:0.003583:0.007695:0.008829:0.003659:0.007940:0.004233:0.010280:0.004218:0.005034:0.005427:0.007846:0.003659:0.008436:0.003220:0.008904:0.004792:0.004299:0.004626:0.008904:0.007619:0.005034:0.007695:0.006410:0.007907:0.005004:0.004626:0.004258:0.005261:0.007846:0.008889:0.008859:0.005261:0.005004:0.007861:0.009056:0.006274:0.007635:0.006410:0.006274:0.004838:0.005261:0.007635:0.008466:0.008938:0.006274:0.008436:0.003659:0.006607:0.005034:0.008859:0.005261:0.003659:0.006984:0.004248:0.004626:0.007045:0.008859:0.003659:0.008451:0.013092:0.008466:0.004752:0.004142
# ~ (tilde) . (point) = (x) independent variables :@0.120984:0.338251:0.433172:0.338251:0.433172:0.324471:0.120984:0.324471:0.008874:0.004218:0.010280:0.004218:0.004626:0.005034:0.003659:0.003598:0.008904:0.007831:0.004626:0.004218:0.003220:0.004218:0.004626:0.008889:0.008859:0.003659:0.008421:0.005034:0.004626:0.004218:0.010280:0.004218:0.004626:0.006848:0.004430:0.004218:0.003659:0.008436:0.008904:0.007831:0.009056:0.007861:0.008466:0.008904:0.008012:0.008466:0.005034:0.004218:0.007241:0.007695:0.005261:0.003583:0.007695:0.008829:0.003659:0.007831:0.006927:0.004142
rf <- randomForest(train.df$reported_as_fraud_historic ~ ., train.df, ntree=8, importance=TRUE) :@0.120984:0.355354:0.758191:0.355354:0.758191:0.341575:0.120984:0.341575:0.005261:0.004807:0.004218:0.010305:0.006047:0.004233:0.005261:0.007635:0.008466:0.008904:0.008859:0.013062:0.007438:0.008859:0.005261:0.007846:0.006410:0.005080:0.004626:0.005034:0.005261:0.007635:0.003659:0.008436:0.003220:0.008904:0.004792:0.008058:0.005261:0.008028:0.008889:0.008859:0.005261:0.005004:0.007861:0.008904:0.006213:0.007695:0.006410:0.006274:0.004807:0.005261:0.007635:0.008647:0.008904:0.006213:0.008466:0.003659:0.006410:0.005049:0.009056:0.005261:0.003613:0.007045:0.004218:0.010280:0.004218:0.003220:0.003220:0.004218:0.005034:0.005261:0.007635:0.003659:0.008436:0.003220:0.008904:0.004792:0.003220:0.004218:0.008466:0.005034:0.005427:0.007861:0.007861:0.010841:0.008063:0.003220:0.004218:0.003659:0.013062:0.008889:0.008859:0.005261:0.005004:0.007695:0.008436:0.007045:0.008043:0.010280:0.008043:0.009041:0.010492:0.007650:0.004596:0.004142
 :@0.120984:0.372316:0.125126:0.372316:0.125126:0.358536:0.120984:0.358536:0.004142
# save model to output folder: Note no spaces and double backslashes are required. :@0.120984:0.389419:0.686834:0.389419:0.686834:0.375640:0.120984:0.375640:0.008869:0.004233:0.006450:0.007695:0.007241:0.007846:0.004228:0.013095:0.008859:0.008904:0.007831:0.003659:0.004188:0.005034:0.008859:0.004233:0.008859:0.008481:0.005034:0.008889:0.008451:0.005034:0.004218:0.004823:0.008859:0.003659:0.008844:0.007861:0.005261:0.003386:0.004218:0.011308:0.008859:0.005034:0.007861:0.004218:0.008466:0.008859:0.004233:0.006410:0.008889:0.007695:0.007030:0.007861:0.006410:0.004263:0.007695:0.008436:0.008904:0.004188:0.008904:0.008859:0.008436:0.008889:0.003613:0.007861:0.004468:0.008889:0.007635:0.007045:0.007453:0.006410:0.003659:0.007695:0.006410:0.008481:0.007861:0.006410:0.004263:0.007695:0.005201:0.007861:0.004218:0.005261:0.007846:0.008904:0.008436:0.003659:0.005397:0.007861:0.008904:0.003497:0.004142
save(rf, file=\C:\\Machine:@0.120984:0.406523:0.289305:0.406523:0.289305:0.392744:0.120984:0.392744:0.006410:0.007695:0.007241:0.007907:0.004596:0.005261:0.004807:0.003220:0.004218:0.004823:0.003659:0.003598:0.007861:0.010280:0.005899:0.009272:0.003225:0.005644:0.005846:0.013500:0.007695:0.006984:0.008496:0.003810:0.008466:0.007907
—:@0.289340:0.406523:0.304458:0.406523:0.304458:0.392744:0.289340:0.392744:0.015118
Learning\\Lab_02_Credit_Card_Fraud\\train_model_output\\rf.rdata\) :@0.304458:0.406523:0.763835:0.406523:0.763835:0.392744:0.304458:0.392744:0.007060:0.008043:0.007695:0.005201:0.008466:0.003659:0.008436:0.009091:0.005644:0.005846:0.007060:0.007695:0.008829:0.006274:0.008224:0.008058:0.006274:0.009434:0.005261:0.007846:0.008904:0.003598:0.005231:0.006274:0.009252:0.007695:0.005201:0.009056:0.006274:0.007423:0.005261:0.007635:0.008466:0.008968:0.005846:0.005644:0.005034:0.005261:0.007635:0.003810:0.008466:0.006274:0.013062:0.008859:0.008904:0.007831:0.003659:0.006213:0.009056:0.008466:0.005034:0.009056:0.008466:0.005180:0.005846:0.005644:0.005261:0.004807:0.003220:0.005261:0.009041:0.007695:0.005004:0.007695:0.005805:0.004868:0.004142
 :@0.120984:0.423484:0.125126:0.423484:0.125126:0.409705:0.120984:0.409705:0.004142
# print message ok to indicate no probs.. :@0.120984:0.440588:0.397897:0.440588:0.397897:0.426809:0.120984:0.426809:0.008869:0.004233:0.008869:0.005261:0.003613:0.008466:0.005034:0.004218:0.013092:0.007861:0.006410:0.006470:0.007695:0.008829:0.007861:0.004218:0.008859:0.007468:0.004218:0.005034:0.008859:0.004233:0.003659:0.008436:0.008904:0.003598:0.007045:0.007695:0.005004:0.008043:0.004218:0.008466:0.008859:0.004233:0.008889:0.005261:0.008859:0.008844:0.006410:0.003281:0.003395:0.004142
# declare variable: ok assigned with the value :@0.120984:0.457692:0.426263:0.457692:0.426263:0.443913:0.120984:0.443913:0.008874:0.004218:0.008904:0.007831:0.007045:0.003659:0.007635:0.005261:0.007846:0.004218:0.007241:0.007695:0.005261:0.003583:0.007695:0.008829:0.003659:0.007831:0.003220:0.004218:0.008859:0.007468:0.004277:0.007695:0.006410:0.006440:0.003659:0.008844:0.008466:0.008043:0.009056:0.004329:0.010930:0.003583:0.005034:0.008466:0.004218:0.005034:0.008466:0.007861:0.004218:0.007241:0.007695:0.003795:0.008466:0.007861:0.004142
“Finished”:@0.426409:0.457692:0.492777:0.457692:0.492777:0.443913:0.426409:0.443913:0.005639:0.007438:0.003659:0.008436:0.003659:0.006410:0.008663:0.007861:0.008904:0.005699
 :@0.492962:0.457692:0.497104:0.457692:0.497104:0.443913:0.492962:0.443913:0.004142
ok <- \Finished\ :@0.120984:0.474796:0.233162:0.474796:0.233162:0.461016:0.120984:0.461016:0.008859:0.007468:0.004218:0.010295:0.006047:0.004233:0.005851:0.007438:0.003659:0.008436:0.003659:0.006410:0.008481:0.007861:0.009056:0.006066:0.004142
 :@0.120984:0.491781:0.125126:0.491781:0.125126:0.478001:0.120984:0.478001:0.004142
# assign variable ok to dataframe: ok.df :@0.120984:0.508884:0.387617:0.508884:0.387617:0.495105:0.120984:0.495105:0.008874:0.004218:0.007695:0.006410:0.006440:0.003659:0.008844:0.008466:0.004218:0.007241:0.007695:0.005261:0.003583:0.007695:0.008829:0.003659:0.007870:0.004233:0.008859:0.007468:0.004218:0.005034:0.008859:0.004233:0.008904:0.007619:0.005034:0.007695:0.004792:0.005261:0.007831:0.013092:0.007861:0.003220:0.004218:0.008859:0.007468:0.003220:0.008904:0.004949:0.004142
ok.df <- as.data.frame(ok) :@0.120984:0.525988:0.297312:0.525988:0.297312:0.512209:0.120984:0.512209:0.008859:0.007468:0.003220:0.008904:0.004792:0.004218:0.010304:0.006047:0.004233:0.007695:0.006410:0.003235:0.008904:0.007619:0.005034:0.007695:0.003190:0.004823:0.005261:0.007635:0.013092:0.007861:0.004626:0.008859:0.007468:0.004732:0.004142
ok.df :@0.120984:0.542949:0.158385:0.542949:0.158385:0.529170:0.120984:0.529170:0.008859:0.007468:0.003220:0.008904:0.004807:0.004142
 :@0.120984:0.561942:0.125175:0.561942:0.125175:0.548829:0.120984:0.548829:0.004191
 :@0.120984:0.581041:0.125175:0.581041:0.125175:0.567928:0.120984:0.567928:0.004191
 :@0.120984:0.600283:0.125175:0.600283:0.125175:0.587170:0.120984:0.587170:0.004191
 :@0.120984:0.619382:0.125175:0.619382:0.125175:0.606269:0.120984:0.606269:0.004191
 :@0.120984:0.638481:0.125175:0.638481:0.125175:0.625368:0.120984:0.625368:0.004191
 :@0.120984:0.657580:0.125175:0.657580:0.125175:0.644467:0.120984:0.644467:0.004191
 :@0.120984:0.676858:0.125175:0.676858:0.125175:0.663745:0.120984:0.663745:0.004191
 :@0.120984:0.695957:0.125175:0.695957:0.125175:0.682844:0.120984:0.682844:0.004191
 :@0.120984:0.715056:0.125175:0.715056:0.125175:0.701943:0.120984:0.701943:0.004191
 :@0.120984:0.734298:0.125175:0.734298:0.125175:0.721185:0.120984:0.721185:0.004191
 :@0.120984:0.753397:0.125175:0.753397:0.125175:0.740284:0.120984:0.740284:0.004191
 :@0.120984:0.772496:0.125175:0.772496:0.125175:0.759383:0.120984:0.759383:0.004191
 :@0.120984:0.791595:0.125175:0.791595:0.125175:0.778483:0.120984:0.778483:0.004191
 :@0.120984:0.810837:0.125175:0.810837:0.125175:0.797724:0.120984:0.797724:0.004191
 :@0.120984:0.829936:0.125175:0.829936:0.125175:0.816823:0.120984:0.816823:0.004191
 :@0.120984:0.849036:0.125175:0.849036:0.125175:0.835923:0.120984:0.835923:0.004191